# WeChatAI
将AI接入微信(WeChat)，让AI回消息。群聊特供版。

#说明
由于项目作者是学生，项目都是放假开发的，程序也是自学的。
所以程序可能会有一些bug或者代码写的一坨屎。
这些都需要大家的包容。

## 项目概述

这是一个基于AI大模型的微信智能聊天助手，能够自动监听微信消息并智能回复。项目包含以下核心功能：

1. 自动监听指定聊天窗口的消息
2. 智能判断用户是否在呼叫助手
3. 支持深度思考模式和快速回复模式
4. 支持群聊模式
5. 维护对话历史上下文

## 功能模块

- `decide.py`: 判断用户是否在呼叫助手
- `get_msg.py`: 深度思考模式回复
- `get_msg_nodeep.py`: 快速回复模式
- `main.py`: 主程序，处理微信消息监听和回复
- `settings.json`: 配置文件

## 环境要求

- Python 3.8+
- 依赖包：
  - wxauto
  - pyautogui
  - pyperclip
  - openai

## 安装指南

1. 克隆项目仓库
2. 创建并激活虚拟环境：
   ```
   python -m venv .venv
   .venv\Scripts\activate
   ```
3. 安装依赖：
   ```
   pip install -r requirements.txt
   ```

## 配置说明

编辑`settings.json`文件配置以下参数：

```json
{
    "self_name": ["唤醒昵称1", "唤醒昵称2"],
    "listen_list": ["要监听的微信好友或群聊名称，英文逗号隔开"],
    "group_mod": true/false, // 是否启用群聊模式（不能设置为false）
    "deep": true/false, // 是否启用深度思考模式（本来就是深度思考的模型不用开）
    "api_key": "你的API Key",
    "base_url": "API基础URL"
}
```

- `self_name`: 助手在聊天中可能被称呼的名字
- `listen_list`: 要监听的微信好友或群聊名称列表
- `group_mod`: 是否启用群聊模式（不能设置为false）
- `deep`: 是否启用深度思考模式（本来就是深度思考的模型不用开）
- `api_key`: API密钥
- `base_url`: API基础URL

## 使用方法

1. 确保微信客户端已登录并打开
2. 运行主程序：
   ```
   python main.py
   ```
3. 程序会自动监听指定聊天窗口
4. 当用户提到助手名字或别判断为呼叫时，会自动回复

## 整合包使用说明

1. 解压整合包到指定目录
2. 按照前文提示在`settings.json`配置信息’
3. 确保微信客户端已登录并打开
4. 运行`run.bat`文件
！！！注意：运行前需要确保微信客户端在前台
```
整合包在GitHub右侧下载
```

## 功能说明

### 1. 消息监听

- 监听`listen_list`中指定的聊天窗口
- 自动过滤已处理的消息
- 支持群聊和私聊两种模式

### 2. 智能判断

- 使用`decide.py`判断用户是否在呼叫助手
- 支持根据上下文判断
- 支持根据特定称呼判断

### 3. 回复模式

#### 深度思考模式

- 启用`deep=true`时使用
- 会进行深度思考并给出详细回答
- 维护对话历史上下文

#### 快速回复模式

- 启用`deep=false`时使用
- 快速响应简单问题

## 注意事项

1. 确保微信客户端保持在前台
2. 不要最小化微信窗口
3. 程序需要权限控制鼠标和键盘
4. API调用频率有限制，请合理使用
5. 对话历史存储在内存中，重启后会丢失

## 常见问题

### Q: 如何添加新的监听对象？
A: 修改`settings.json`中的`listen_list`字段

### Q: 如何更换API密钥？
A: 修改`settings.json`中的`api_key`字段

### Q: 为什么有时不回复？
A: 检查是否被@或提到了`self_name`中的名字

## 贡献指南

欢迎提交Pull Request或Issue报告问题。
